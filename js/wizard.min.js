/*!
 * Start Bootstrap - Agency v4.1.1 (https://startbootstrap.com/template-overviews/agency)
 * Copyright 2013-2018 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-agency/blob/master/LICENSE)
 */
"use strict";function scroll_to_class(e,r){var n=$(e).offset().top-r;$(window).scrollTop()!=n&&$(".form-wizard").stop().animate({scrollTop:n},0)}var vin_honneur,banquet,nb_adult,nb_bambinos,nb_junior,current_screen,form_prefix_id=".form-wizard fieldset#",first_screen_id="first-screen",adult_banquet_screen_id="adult-banquet-screen",adult_vin_screen_id="adult-vin-screen",last_adult_banquet_screen_id="last-adult-banquet-screen",last_adult_vin_screen_id="last-adult-vin-screen",bambino_banquet_screen_id="adult-banquet-screen",bambino_vin_screen_id="adult-vin-screen",last_bambino_banquet_screen_id="last-adult-banquet-screen",last_bambino_vin_screen_id="last-adult-vin-screen",junior_banquet_screen_id="adult-banquet-screen",junior_vin_screen_id="adult-vin-screen",last_junior_banquet_screen_id="last-adult-banquet-screen",last_junior_vin_screen_id="last-adult-vin-screen",name_adult="name-adult",starter_adult_banquet="starter-adult-banquet",main_adult_banquet="main-adult-banquet",last_prefix="last-",current_nb_adult=0,current_nb_bambinos=0,current_nb_junior=0;function is_last_adult(){return 1==current_nb_adult}function no_children(){return no_bambino&&no_junior}function no_bambino(){return 0==current_nb_bambinos}function no_junior(){return 0==current_nb_junior}var adults=new List,bambinos=new List,junior=new List;jQuery(document).ready(function(){$(".form-wizard fieldset:first").fadeIn("slow"),current_screen=$(".form-wizard fieldset:first"),$(".form-wizard .required").on("focus",function(){$(this).removeClass("input-error")}),$(".form-wizard .btn-next").on("click",function(){var e,r=$(this).parents("fieldset"),n=!0;r.find("input").each(function(){if($(this)[0].required&&""==$(this).val()?($(this).addClass("input-error"),n=!1):$(this).removeClass("input-error"),r[0].id==first_screen_id)switch($(this)[0].id){case"vin_honneur":vin_honneur=$(this)[0].checked;break;case"banquet":banquet=$(this)[0].checked;break;case"number_adult":nb_adult=$(this)[0].value,current_nb_adult=nb_adult}}),current_screen[0].id==first_screen_id?(e=banquet?$(form_prefix_id+(is_last_adult()&&no_children()?last_prefix:"")+adult_banquet_screen_id):$(form_prefix_id+(is_last_adult()&&no_children()?last_prefix:"")+adult_vin_screen_id),current_nb_adult--):current_screen[0].id.startsWith("adult")&&(e=banquet?$(form_prefix_id+(is_last_adult?no_bambino?junior_banquet_screen_id:bambino_banquet_screen_id:adult_banquet_screen_id)):$(form_prefix_id+(is_last_adult?no_bambino?junior_vin_screen_id:bambino_vin_screen_id:adult_vin_screen_id)),current_nb_adult--),n&&r.fadeOut(400,function(){e.fadeIn(),scroll_to_class($(".form-wizard"),20)}),current_screen=e,$("form").trigger("reset")}),$(".form-wizard .btn-previous").on("click",function(){var e;$("form").trigger("reset"),current_nb_adult++,current_screen[0].id.startsWith("adult")&&(e=current_nb_adult==nb_adult?$(form_prefix_id+first_screen_id):banquet?$(form_prefix_id+adult_banquet_screen_id):$(form_prefix_id+adult_vin_screen_id)),$(this).parents("fieldset").fadeOut(400,function(){e.fadeIn(),scroll_to_class($(".form-wizard"),20)}),current_screen=e}),$(".form-wizard .btn-submit").on("click",function(e){console.log("TODO SUBMIT TODO"),$(this).find(".required").each(function(){""==$(this).val()?(e.preventDefault(),$(this).addClass("input-error")):$(this).removeClass("input-error")})})});var $dropzone=$(".image_picker"),$droptarget=$(".drop_target"),$dropinput=$("#inputFile"),$dropimg=$(".image_preview"),$remover=$('[data-action="remove_current_image"]');$dropzone.on("dragover",function(){return $droptarget.addClass("dropping"),!1}),$dropzone.on("dragend dragleave",function(){return $droptarget.removeClass("dropping"),!1}),$dropzone.on("drop",function(e){$droptarget.removeClass("dropping"),$droptarget.addClass("dropped"),$remover.removeClass("disabled"),e.preventDefault();var r=e.originalEvent.dataTransfer.files[0],n=new FileReader;return n.onload=function(e){$dropimg.css("background-image","url("+e.target.result+")")},console.log(r),n.readAsDataURL(r),!1}),$dropinput.change(function(e){$droptarget.addClass("dropped"),$remover.removeClass("disabled"),$(".image_title input").val("");var r=$dropinput.get(0).files[0],n=new FileReader;n.onload=function(e){$dropimg.css("background-image","url("+e.target.result+")")},n.readAsDataURL(r)}),$remover.on("click",function(){$dropimg.css("background-image",""),$droptarget.removeClass("dropped"),$remover.addClass("disabled"),$(".image_title input").val("")}),$(".image_title input").blur(function(){""!=$(this).val()&&$droptarget.removeClass("dropped")});