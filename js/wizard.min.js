/*!
 * Start Bootstrap - Agency v4.1.1 (https://startbootstrap.com/template-overviews/agency)
 * Copyright 2013-2018 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-agency/blob/master/LICENSE)
 */
"use strict";function scroll_to_class(e,n){var t=$(e).offset().top-n;$(window).scrollTop()!=t&&$(".form-wizard").stop().animate({scrollTop:t},0)}var vin_honneur,banquet,nb_adult,nb_bambinos,nb_junior,current_screen,form_prefix_id=".form-wizard fieldset#",first_screen_id="first-screen",adult_banquet_screen_id="adult-banquet-screen",adult_vin_screen_id="adult-vin-screen",last_adult_banquet_screen_id="last-adult-banquet-screen",last_adult_vin_screen_id="last-adult-vin-screen",bambino_banquet_screen_id="adult-banquet-screen",bambino_vin_screen_id="adult-vin-screen",last_bambino_banquet_screen_id="last-adult-banquet-screen",last_bambino_vin_screen_id="last-adult-vin-screen",junior_banquet_screen_id="adult-banquet-screen",junior_vin_screen_id="adult-vin-screen",last_junior_banquet_screen_id="last-adult-banquet-screen",last_junior_vin_screen_id="last-adult-vin-screen",input_pattern="input#",vin_honneur_id=input_pattern+"vin_honneur",banquet_id=input_pattern+"banquet",number_adult_id=input_pattern+"number_adult",number_bambino_id=input_pattern+"number_bambino",number_junior_id=input_pattern+"number_junior",name_adult_id="name-adult",start_checkbox_1_id="starter-adult-banquet-1",start_checkbox_2_id="starter-adult-banquet-2",main_checkbox_1_id="main-adult-banquet-1",main_checkbox_2_id="main-adult-banquet-2",starter_adult_banquet="starter-adult-banquet",main_adult_banquet="main-adult-banquet",last_prefix="last-",current_nb_adult=0,current_nb_bambinos=0,current_nb_junior=0;function is_last_adult(){return 0==current_nb_adult}function no_children(){return no_bambino&&no_junior}function no_bambino(){return 0==current_nb_bambinos}function no_junior(){return 0==current_nb_junior}var adults=[],juniors=[],bambinos=[];function Adult(e,n,t,r,a,i,_){this.name=e,this.attend_to_vin_honneur=n,this.attend_to_diner=t,this.starter_1=r,this.starter_2=a,this.main_1=i,this.main_2=_}var current_name="",starter_1=!1,starter_2=!1,main_1=!1,main_2=!1;function printAdult(e){console.log(e.name+", "+e.attend_to_vin_honneur+", "+e.attend_to_diner+", "+e.starter_1+", "+e.starter_2+", "+e.main_1+", "+e.main_2)}function addAdult(e){current_name=e.find(input_pattern+name_adult_id)[0].value,banquet&&(starter_1=e.find(input_pattern+start_checkbox_1_id)[0].checked,starter_2=e.find(input_pattern+start_checkbox_2_id)[0].checked,main_1=e.find(input_pattern+main_checkbox_1_id)[0].checked,main_2=e.find(input_pattern+main_checkbox_2_id)[0].checked);var n=new Adult(current_name,vin_honneur,banquet,starter_1,starter_2,main_1,main_2);adults.push(n),console.log(n.name+", "+n.attend_to_vin_honneur+", "+n.attend_to_diner+", "+n.starter_1+", "+n.starter_2+", "+n.main_1+", "+n.main_2),current_nb_adult--}function fields_validation(e){var n=!0;return e.find("input").each(function(){$(this).removeClass("input-error"),$(this)[0].required&&""==$(this)[0].value&&($(this).addClass("input-error"),n=!1)}),n}jQuery(document).ready(function(){$(".form-wizard fieldset:first").fadeIn("slow"),current_screen=$(".form-wizard fieldset:first"),$(".form-wizard .required").on("focus",function(){$(this).removeClass("input-error")}),$(".form-wizard .btn-next").on("click",function(){var e,n=$(this).parents("fieldset");fields_validation(n)?(current_screen[0].id==first_screen_id?(vin_honneur=n.find(vin_honneur_id)[0].checked,banquet=n.find(banquet_id)[0].checked,nb_adult=n.find(number_adult_id)[0].value,current_nb_adult=nb_adult-1,e=banquet?$(form_prefix_id+(is_last_adult()&&no_children()?last_prefix:"")+adult_banquet_screen_id):$(form_prefix_id+(is_last_adult()&&no_children()?last_prefix:"")+adult_vin_screen_id)):current_screen[0].id.startsWith("adult")&&(addAdult(n),e=banquet?$(form_prefix_id+(is_last_adult()?last_prefix:"")+adult_banquet_screen_id):$(form_prefix_id+(is_last_adult()?last_prefix:"")+adult_vin_screen_id)),n.fadeOut(400,function(){e.fadeIn(),scroll_to_class($(".form-wizard"),20)}),current_screen=e):$("form").trigger("reset")}),$(".form-wizard .btn-previous").on("click",function(){var e;$("form").trigger("reset"),current_nb_adult++,current_screen[0].id.startsWith("adult")&&(e=current_nb_adult==nb_adult?$(form_prefix_id+first_screen_id):banquet?$(form_prefix_id+adult_banquet_screen_id):$(form_prefix_id+adult_vin_screen_id)),$(this).parents("fieldset").fadeOut(400,function(){e.fadeIn(),scroll_to_class($(".form-wizard"),20)}),current_screen=e}),$(".form-wizard .btn-submit").on("click",function(e){var n=$(this).parents("fieldset");$(this).find(".required").each(function(){""==$(this).val()?(e.preventDefault(),$(this).addClass("input-error")):$(this).removeClass("input-error")}),current_screen[0].id.startsWith("last-adult")&&addAdult(n);for(var t=0;t<nb_adult;t++){var r=adults[t];console.log(r.name+", "+r.attend_to_vin_honneur+", "+r.attend_to_diner+", "+r.starter_1+", "+r.starter_2+", "+r.main_1+", "+r.main_2)}})});var $dropzone=$(".image_picker"),$droptarget=$(".drop_target"),$dropinput=$("#inputFile"),$dropimg=$(".image_preview"),$remover=$('[data-action="remove_current_image"]');$dropzone.on("dragover",function(){return $droptarget.addClass("dropping"),!1}),$dropzone.on("dragend dragleave",function(){return $droptarget.removeClass("dropping"),!1}),$dropzone.on("drop",function(e){$droptarget.removeClass("dropping"),$droptarget.addClass("dropped"),$remover.removeClass("disabled"),e.preventDefault();var n=e.originalEvent.dataTransfer.files[0],t=new FileReader;return t.onload=function(e){$dropimg.css("background-image","url("+e.target.result+")")},console.log(n),t.readAsDataURL(n),!1}),$dropinput.change(function(e){$droptarget.addClass("dropped"),$remover.removeClass("disabled"),$(".image_title input").val("");var n=$dropinput.get(0).files[0],t=new FileReader;t.onload=function(e){$dropimg.css("background-image","url("+e.target.result+")")},t.readAsDataURL(n)}),$remover.on("click",function(){$dropimg.css("background-image",""),$droptarget.removeClass("dropped"),$remover.addClass("disabled"),$(".image_title input").val("")}),$(".image_title input").blur(function(){""!=$(this).val()&&$droptarget.removeClass("dropped")});